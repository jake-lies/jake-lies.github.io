
<!DOCTYPE html>
<html lang=en manifest=eff.appcache>
<meta charset=utf-8>
<title>Lua minifier</title>
<meta name=viewport content="width=device-width,initial-scale=1">
<style>html,textarea{font:1em/1.6 sans-serif}body{max-width:40em;padding:0 1em}h1{text-align:center;font-size:1.3em;margin:0 0 .5em;padding-top:1em}h2{font-size:1em}a{color:#333;text-decoration:none;border-bottom:1px solid #aaa;padding:.1em .2em}a:hover,a:focus{color:#fff;border-color:#036;background:#36c}dt{font-weight:bold;font-style:italic}#output a,textarea,code{font-family:Monaco,Consolas,monospace}code{font-size:.9em;white-space:pre;white-space:pre-wrap;word-wrap:break-word}ul{margin-bottom:0}blockquote{margin:0 0 1em;border-left:.5em solid #e3e3e3;padding-left:10px}#footer{margin-top:2em;text-align:center}textarea{background:#eee;border:3px double grey;width:100%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;margin:1em 0 .5em;padding:.7em;resize:vertical;min-height:9.5em}pre{padding:.5em;border:3px double green;background:#90ee90}.fail{border-color:red;background:#ffb6c1}@media(min-width:42em){html{font-size:1.2em;background:#c4c4c4;height:100%}body{margin:0 auto;padding:0 2em;min-height:100%;background:#fff;border:solid #aaa;border-width:0 1px}}</style>
<meta name=description content="An online, on-the-fly Lua minifier.">
<h1>Lua minifier</h1>
<noscript><strong>To use this tool, please <a href=http://enable-javascript.com/>enable JavaScript</a> and reload the page.</strong></noscript>
<h2>Input</h2>
<textarea autofocus>for z = 1, 10 do
  for y = 1, 10 do
    for x = 1, 10 do
      if x ^ 2 + y ^ 2 == z ^ 2 then
        print('found a Pythagorean triple:', x, y, z)
        goto done
      end
    end
  end
end
::done::</textarea>
<h2>Minified result (<a href=#for%20z%20%3D%201%2C%2010%20do%0A%20%20for%20y%20%3D%201%2C%2010%20do%0A%20%20%20%20for%20x%20%3D%201%2C%2010%20do%0A%20%20%20%20%20%20if%20x%20%5E%202%20%2B%20y%20%5E%202%20%3D%3D%20z%20%5E%202%20then%0A%20%20%20%20%20%20%20%20print%28%27found%20a%20Pythagorean%20triple%3A%27%2C%20x%2C%20y%2C%20z%29%0A%20%20%20%20%20%20%20%20goto%20done%0A%20%20%20%20%20%20end%0A%20%20%20%20end%0A%20%20end%0Aend%0A%3A%3Adone%3A%3A id=permalink>permalink</a>)</h2>
<pre><code id=output>for a=1,10 do for b=1,10 do for c=1,10 do if c^2+b^2==a^2 then print('found a Pythagorean triple:',c,b,a)goto d end end end end::d::</code></pre>
<dl>
	<dt>Before
		<dd>202 bytes
	<dt>After
		<dd>132 bytes
	<dt>Compression ratio
		<dd>34.65%
</dl>
<h2>About this tool</h2>
<p>This tool uses <a href=https://mths.be/luamin>luamin</a> to minify any Lua snippet you enter. Under the hood, luamin uses <a href=https://oxyc.github.com/luaparse/>luaparse</a>.
<p id=footer>Made by <a href=https://mathiasbynens.be/>@mathias</a> â€” <a href=https://github.com/mathiasbynens/mothereff.in/tree/master/lua-minifier>fork this on GitHub!</a></p>
<script>!function(e,n,t){"use strict";var r={"function":!0,object:!0},a=r[typeof exports]&&exports&&!exports.nodeType&&exports,i=r[typeof module]&&module&&!module.nodeType&&module,o=a&&i&&"object"==typeof global&&global,u=i&&i.exports===a&&a;!o||o.global!==o&&o.window!==o&&o.self!==o||(e=o),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(define(["exports"],t),a&&u&&t(i.exports)):t(a&&i?u?i.exports:a:e[n]={})}(this,"luaparse",function(e){"use strict";function n(e){if(Xe){var n=He.pop();n.complete(),Se.locations&&(e.loc=n.loc),Se.ranges&&(e.range=n.range)}return Se.onCreateNode&&Se.onCreateNode(e),e}function t(e,n,t){for(var r=0,a=e.length;a>r;r++)if(e[r][n]===t)return r;return-1}function r(e){var n=_e.call(arguments,1);return e=e.replace(/%(\d)/g,function(e,t){return""+n[t-1]||""})}function a(){for(var e,n,t=_e.call(arguments),r={},a=0,i=t.length;i>a;a++){e=t[a];for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n])}return r}function i(e){var n,t,a=r.apply(null,_e.call(arguments,1));throw"undefined"!=typeof e.line?(t=e.range[0]-e.lineStart,n=new SyntaxError(r("[%1:%2] %3",e.line,t,a)),n.line=e.line,n.index=e.range[0],n.column=t):(t=Fe-Re+1,n=new SyntaxError(r("[%1:%2] %3",Pe,t,a)),n.index=Fe,n.line=Pe,n.column=t),n}function o(e,n){i(n,Ge.expectedToken,e,n.value)}function u(e,n){if("undefined"==typeof n&&(n=De.value),"undefined"!=typeof e.type){var t;switch(e.type){case we:t="string";break;case ke:t="keyword";break;case Te:t="identifier";break;case Ie:t="number";break;case Le:t="symbol";break;case Ne:t="boolean";break;case Be:return i(e,Ge.unexpected,"symbol","nil",n)}return i(e,Ge.unexpected,t,e.value,n)}return i(e,Ge.unexpected,"symbol",e,n)}function c(){for(l();45===xe.charCodeAt(Fe)&&45===xe.charCodeAt(Fe+1);)x(),l();if(Fe>=Ce)return{type:Ae,value:"<eof>",line:Pe,lineStart:Re,range:[Fe,Fe]};var e=xe.charCodeAt(Fe),n=xe.charCodeAt(Fe+1);if(Ke=Fe,L(e))return f();switch(e){case 39:case 34:return m();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return y();case 46:return T(n)?y():46===n?46===xe.charCodeAt(Fe+2)?d():p(".."):p(".");case 61:return p(61===n?"==":"=");case 62:return p(61===n?">=":62===n?">>":">");case 60:return p(60===n?"<<":61===n?"<=":"<");case 126:return p(61===n?"~=":"~");case 58:return p(58===n?"::":":");case 91:return 91===n||61===n?h():p("[");case 47:return p(47===n?"//":"/");case 42:case 94:case 37:case 44:case 123:case 124:case 125:case 93:case 40:case 41:case 59:case 38:case 35:case 45:case 43:return p(xe.charAt(Fe))}return u(xe.charAt(Fe))}function s(){var e=xe.charCodeAt(Fe),n=xe.charCodeAt(Fe+1);return k(e)?(10===e&&13===n&&Fe++,13===e&&10===n&&Fe++,Pe++,Re=++Fe,!0):!1}function l(){for(;Ce>Fe;){var e=xe.charCodeAt(Fe);if(w(e))Fe++;else if(!s())break}}function f(){for(var e,n;N(xe.charCodeAt(++Fe)););return e=xe.slice(Ke,Fe),B(e)?n=ke:"true"===e||"false"===e?(n=Ne,e="true"===e):"nil"===e?(n=Be,e=null):n=Te,{type:n,value:e,line:Pe,lineStart:Re,range:[Ke,Fe]}}function p(e){return Fe+=e.length,{type:Le,value:e,line:Pe,lineStart:Re,range:[Ke,Fe]}}function d(){return Fe+=3,{type:Oe,value:"...",line:Pe,lineStart:Re,range:[Ke,Fe]}}function m(){for(var e,n=xe.charCodeAt(Fe++),t=Fe,r="";Ce>Fe&&(e=xe.charCodeAt(Fe++),n!==e);)92===e?(r+=xe.slice(t,Fe-1)+b(),t=Fe):(Fe>=Ce||k(e))&&(r+=xe.slice(t,Fe-1),i({},Ge.unfinishedString,r+String.fromCharCode(e)));return r+=xe.slice(t,Fe-1),{type:we,value:r,line:Pe,lineStart:Re,range:[Ke,Fe]}}function h(){var e=S();return!1===e&&i(Ue,Ge.expected,"[",Ue.value),{type:we,value:e,line:Pe,lineStart:Re,range:[Ke,Fe]}}function y(){var e=xe.charAt(Fe),n=xe.charAt(Fe+1),t="0"===e&&"xX".indexOf(n||null)>=0?v():g();return{type:Ie,value:t,line:Pe,lineStart:Re,range:[Ke,Fe]}}function v(){var e,n,t,r,a=0,o=1,u=1;for(r=Fe+=2,I(xe.charCodeAt(Fe))||i({},Ge.malformedNumber,xe.slice(Ke,Fe));I(xe.charCodeAt(Fe));)Fe++;if(e=parseInt(xe.slice(r,Fe),16),"."===xe.charAt(Fe)){for(n=++Fe;I(xe.charCodeAt(Fe));)Fe++;a=xe.slice(n,Fe),a=n===Fe?0:parseInt(a,16)/Math.pow(16,Fe-n)}if("pP".indexOf(xe.charAt(Fe)||null)>=0){for(Fe++,"+-".indexOf(xe.charAt(Fe)||null)>=0&&(u="+"===xe.charAt(Fe++)?1:-1),t=Fe,T(xe.charCodeAt(Fe))||i({},Ge.malformedNumber,xe.slice(Ke,Fe));T(xe.charCodeAt(Fe));)Fe++;o=xe.slice(t,Fe),o=Math.pow(2,o*u)}return(e+a)*o}function g(){for(;T(xe.charCodeAt(Fe));)Fe++;if("."===xe.charAt(Fe))for(Fe++;T(xe.charCodeAt(Fe));)Fe++;if("eE".indexOf(xe.charAt(Fe)||null)>=0)for(Fe++,"+-".indexOf(xe.charAt(Fe)||null)>=0&&Fe++,T(xe.charCodeAt(Fe))||i({},Ge.malformedNumber,xe.slice(Ke,Fe));T(xe.charCodeAt(Fe));)Fe++;return parseFloat(xe.slice(Ke,Fe))}function b(){var e=Fe;switch(xe.charAt(Fe)){case"n":return Fe++,"\n";case"r":return Fe++,"\r";case"t":return Fe++,"	";case"v":return Fe++,"\x0B";case"b":return Fe++,"\b";case"f":return Fe++,"\f";case"z":return Fe++,l(),"";case"x":return I(xe.charCodeAt(Fe+1))&&I(xe.charCodeAt(Fe+2))?(Fe+=3,"\\"+xe.slice(e,Fe)):"\\"+xe.charAt(Fe++);default:if(T(xe.charCodeAt(Fe))){for(;T(xe.charCodeAt(++Fe)););return"\\"+xe.slice(e,Fe)}return xe.charAt(Fe++)}}function x(){Ke=Fe,Fe+=2;var e=xe.charAt(Fe),n="",t=!1,r=Fe,a=Re,i=Pe;if("["===e&&(n=S(),!1===n?n=e:t=!0),!t){for(;Ce>Fe&&!k(xe.charCodeAt(Fe));)Fe++;Se.comments&&(n=xe.slice(r,Fe))}if(Se.comments){var o=Me.comment(n,xe.slice(Ke,Fe));Se.locations&&(o.loc={start:{line:i,column:Ke-a},end:{line:Pe,column:Fe-Re}}),Se.ranges&&(o.range=[Ke,Fe]),Se.onCreateNode&&Se.onCreateNode(o),Ve.push(o)}}function S(){var e,n,t=0,r="",a=!1;for(Fe++;"="===xe.charAt(Fe+t);)t++;if("["!==xe.charAt(Fe+t))return!1;for(Fe+=t+1,k(xe.charCodeAt(Fe))&&s(),n=Fe;Ce>Fe;){if(k(xe.charCodeAt(Fe))&&s(),e=xe.charAt(Fe++),"]"===e){a=!0;for(var i=0;t>i;i++)"="!==xe.charAt(Fe+i)&&(a=!1);"]"!==xe.charAt(Fe+t)&&(a=!1)}if(a)break}return r+=xe.slice(n,Fe-1),Fe+=t+1,r}function C(){je=Ue,Ue=De,De=c()}function E(e){return e===Ue.value?(C(),!0):!1}function A(e){e===Ue.value?C():i(Ue,Ge.expected,e,Ue.value)}function w(e){return 9===e||32===e||11===e||12===e}function k(e){return 10===e||13===e}function T(e){return e>=48&&57>=e}function I(e){return e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e}function L(e){return e>=65&&90>=e||e>=97&&122>=e||95===e}function N(e){return e>=65&&90>=e||e>=97&&122>=e||95===e||e>=48&&57>=e}function B(e){switch(e.length){case 2:return"do"===e||"if"===e||"in"===e||"or"===e;case 3:return"and"===e||"end"===e||"for"===e||"not"===e;case 4:return"else"===e||"goto"===e||"then"===e;case 5:return"break"===e||"local"===e||"until"===e||"while"===e;case 6:return"elseif"===e||"repeat"===e||"return"===e;case 8:return"function"===e}return!1}function O(e){return Le===e.type?"#-~".indexOf(e.value)>=0:ke===e.type?"not"===e.value:!1}function F(e){switch(e.type){case"CallExpression":case"TableCallExpression":case"StringCallExpression":return!0}return!1}function U(e){if(Ae===e.type)return!0;if(ke!==e.type)return!1;switch(e.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}function j(){var e=Array.apply(null,ze[We++]);ze.push(e),Se.onCreateScope&&Se.onCreateScope()}function D(){ze.pop();We--,Se.onDestroyScope&&Se.onDestroyScope()}function V(e){-1===qe(ze[We],e)&&ze[We].push(e)}function K(e){V(e.name),P(e,!0)}function P(e,n){n||-1!==t(Ze,"name",e.name)||Ze.push(e),e.isLocal=n}function R(e){return-1!==qe(ze[We],e)}function G(){return new M(Ue)}function M(e){Se.locations&&(this.loc={start:{line:e.line,column:e.range[0]-e.lineStart},end:{line:0,column:0}}),Se.ranges&&(this.range=[e.range[0],0])}function _(){Xe&&He.push(G())}function q(e){Xe&&He.push(e)}function z(){C(),_(),Se.scope&&j();var e=W();return Se.scope&&D(),Ae!==Ue.type&&u(Ue),Xe&&!e.length&&(je=Ue),n(Me.chunk(e))}function W(){for(var e,n=[];!U(Ue);){if("return"===Ue.value){n.push(Z());break}e=Z(),e&&n.push(e)}return n}function Z(){if(_(),ke===Ue.type)switch(Ue.value){case"local":return C(),re();case"if":return C(),ne();case"return":return C(),ee();case"function":C();var e=ce();return ue(e);case"while":return C(),Y();case"for":return C(),te();case"repeat":return C(),$();case"break":return C(),H();case"do":return C(),Q();case"goto":return C(),J()}return Le===Ue.type&&E("::")?X():(Xe&&He.pop(),E(";")?void 0:ie())}function X(){var e=Ue.value,t=oe();return Se.scope&&(V("::"+e+"::"),P(t,!0)),A("::"),n(Me.labelStatement(t))}function H(){return n(Me.breakStatement())}function J(){var e=(Ue.value,oe());return n(Me.gotoStatement(e))}function Q(){Se.scope&&j();var e=W();return Se.scope&&D(),A("end"),n(Me.doStatement(e))}function Y(){var e=fe();A("do"),Se.scope&&j();var t=W();return Se.scope&&D(),A("end"),n(Me.whileStatement(e,t))}function $(){Se.scope&&j();var e=W();A("until");var t=fe();return Se.scope&&D(),n(Me.repeatStatement(t,e))}function ee(){var e=[];if("end"!==Ue.value){var t=le();for(null!=t&&e.push(t);E(",");)t=fe(),e.push(t);E(";")}return n(Me.returnStatement(e))}function ne(){var e,t,r,a=[];for(Xe&&(r=He[He.length-1],He.push(r)),e=fe(),A("then"),Se.scope&&j(),t=W(),Se.scope&&D(),a.push(n(Me.ifClause(e,t))),Xe&&(r=G());E("elseif");)q(r),e=fe(),A("then"),Se.scope&&j(),t=W(),Se.scope&&D(),a.push(n(Me.elseifClause(e,t))),Xe&&(r=G());return E("else")&&(Xe&&(r=new M(je),He.push(r)),Se.scope&&j(),t=W(),Se.scope&&D(),a.push(n(Me.elseClause(t)))),A("end"),n(Me.ifStatement(a))}function te(){var e,t=oe();if(Se.scope&&(j(),K(t)),E("=")){var r=fe();A(",");var a=fe(),i=E(",")?fe():null;return A("do"),e=W(),A("end"),Se.scope&&D(),n(Me.forNumericStatement(t,r,a,i,e))}for(var o=[t];E(",");)t=oe(),Se.scope&&K(t),o.push(t);A("in");var u=[];do{var c=fe();u.push(c)}while(E(","));return A("do"),e=W(),A("end"),Se.scope&&D(),n(Me.forGenericStatement(o,u,e))}function re(){var e;if(Te===Ue.type){var t=[],r=[];do e=oe(),t.push(e);while(E(","));if(E("="))do{var a=fe();r.push(a)}while(E(","));if(Se.scope)for(var i=0,u=t.length;u>i;i++)K(t[i]);return n(Me.localStatement(t,r))}return E("function")?(e=oe(),Se.scope&&(K(e),j()),ue(e,!0)):void o("<name>",Ue)}function ae(e){(e.inParens||-1===["Identifier","MemberExpression","IndexExpression"].indexOf(e.type))&&i(Ue,Ge.invalidVar,Ue.value)}function ie(){var e,t,r=Ue;if(Xe&&(t=G()),e=me(),null==e)return u(Ue);if(",=".indexOf(Ue.value)>=0){var a,i=[e],c=[];for(ae(e);E(",");)a=me(),null==a&&o("<expression>",Ue),ae(a),i.push(a);A("=");do a=fe(),c.push(a);while(E(","));return q(t),n(Me.assignmentStatement(i,c))}return F(e)?(q(t),n(Me.callStatement(e))):u(r)}function oe(){_();var e=Ue.value;return Te!==Ue.type&&o("<name>",Ue),C(),n(Me.identifier(e))}function ue(e,t){var r=[];if(A("("),!E(")"))for(;;)if(Te===Ue.type){var a=oe();if(Se.scope&&K(a),r.push(a),E(","))continue;if(E(")"))break}else{if(Oe===Ue.type){r.push(ye()),A(")");break}o("<name> or '...'",Ue)}var i=W();return A("end"),Se.scope&&D(),t=t||!1,n(Me.functionStatement(e,r,t,i))}function ce(){var e,t,r;for(Xe&&(r=G()),e=oe(),Se.scope&&(P(e,R(e.name)),j());E(".");)q(r),t=oe(),e=n(Me.memberExpression(e,".",t));return E(":")&&(q(r),t=oe(),e=n(Me.memberExpression(e,":",t)),Se.scope&&V("self")),e}function se(){for(var e,t,r=[];;){if(_(),Le===Ue.type&&E("["))e=fe(),A("]"),A("="),t=fe(),r.push(n(Me.tableKey(e,t)));else if(Te===Ue.type)"="===De.value?(e=oe(),C(),t=fe(),r.push(n(Me.tableKeyString(e,t)))):(t=fe(),r.push(n(Me.tableValue(t))));else{if(null==(t=le())){He.pop();break}r.push(n(Me.tableValue(t)))}if(!(",;".indexOf(Ue.value)>=0))break;C()}return A("}"),n(Me.tableConstructorExpression(r))}function le(){var e=de(0);return e}function fe(){var e=le();return null!=e?e:void o("<expression>",Ue)}function pe(e){var n=e.charCodeAt(0),t=e.length;if(1===t)switch(n){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(2===t)switch(n){case 47:return 10;case 46:return 8;case 60:case 62:return"<<"===e||">>"===e?7:3;case 61:case 126:return 3;case 111:return 1}else if(97===n&&"and"===e)return 2;return 0}function de(e){var t,r,a=Ue.value;if(Xe&&(r=G()),O(Ue)){_(),C();var i=de(10);null==i&&o("<expression>",Ue),t=n(Me.unaryExpression(a,i))}if(null==t&&(t=ye(),null==t&&(t=me())),null==t)return null;for(var u;;){if(a=Ue.value,u=Le===Ue.type||ke===Ue.type?pe(a):0,0===u||e>=u)break;"^"!==a&&".."!==a||u--,C();var c=de(u);null==c&&o("<expression>",Ue),Xe&&He.push(r),t=n(Me.binaryExpression(a,t,c))}return t}function me(){var e,t,r;if(Xe&&(r=G()),Te===Ue.type)t=Ue.value,e=oe(),Se.scope&&P(e,R(t));else{if(!E("("))return null;e=fe(),A(")"),e.inParens=!0}for(var a,i;;)if(Le===Ue.type)switch(Ue.value){case"[":q(r),C(),a=fe(),e=n(Me.indexExpression(e,a)),A("]");break;case".":q(r),C(),i=oe(),e=n(Me.memberExpression(e,".",i));break;case":":q(r),C(),i=oe(),e=n(Me.memberExpression(e,":",i)),q(r),e=he(e);break;case"(":case"{":q(r),e=he(e);break;default:return e}else{if(we!==Ue.type)break;q(r),e=he(e)}return e}function he(e){if(Le===Ue.type)switch(Ue.value){case"(":C();var t=[],r=le();for(null!=r&&t.push(r);E(",");)r=fe(),t.push(r);return A(")"),n(Me.callExpression(e,t));case"{":_(),C();var a=se();return n(Me.tableCallExpression(e,a))}else if(we===Ue.type)return n(Me.stringCallExpression(e,ye()));o("function arguments",Ue)}function ye(){var e,t=we|Ie|Ne|Be|Oe,r=Ue.value,a=Ue.type;if(Xe&&(e=G()),a&t){q(e);var i=xe.slice(Ue.range[0],Ue.range[1]);return C(),n(Me.literal(a,r,i))}return ke===a&&"function"===r?(q(e),C(),Se.scope&&j(),ue(null)):E("{")?(q(e),se()):void 0}function ve(n,t){return"undefined"==typeof t&&"object"==typeof n&&(t=n,n=void 0),t||(t={}),xe=n||"",Se=a(Ee,t),Fe=0,Pe=1,Re=0,Ce=xe.length,ze=[[]],We=0,Ze=[],He=[],Se.comments&&(Ve=[]),Se.wait?e:be()}function ge(n){return xe+=String(n),Ce=xe.length,e}function be(e){"undefined"!=typeof e&&ge(e),xe&&"#!"===xe.substr(0,2)&&(xe=xe.replace(/^.*/,function(e){return e.replace(/./g," ")})),Ce=xe.length,Xe=Se.locations||Se.ranges,De=c();var n=z();if(Se.comments&&(n.comments=Ve),Se.scope&&(n.globals=Ze),He.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return n}e.version="0.2.1";var xe,Se,Ce,Ee=e.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null},Ae=1,we=2,ke=4,Te=8,Ie=16,Le=32,Ne=64,Be=128,Oe=256;e.tokenTypes={EOF:Ae,StringLiteral:we,Keyword:ke,Identifier:Te,NumericLiteral:Ie,Punctuator:Le,BooleanLiteral:Ne,NilLiteral:Be,VarargLiteral:Oe};var Fe,Ue,je,De,Ve,Ke,Pe,Re,Ge=e.errors={unexpected:"unexpected %1 '%2' near '%3'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",invalidVar:"invalid left-hand side of assignment near '%1'"},Me=e.ast={labelStatement:function(e){return{type:"LabelStatement",label:e}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(e){return{type:"GotoStatement",label:e}},returnStatement:function(e){return{type:"ReturnStatement",arguments:e}},ifStatement:function(e){return{type:"IfStatement",clauses:e}},ifClause:function(e,n){return{type:"IfClause",condition:e,body:n}},elseifClause:function(e,n){return{type:"ElseifClause",condition:e,body:n}},elseClause:function(e){return{type:"ElseClause",body:e}},whileStatement:function(e,n){return{type:"WhileStatement",condition:e,body:n}},doStatement:function(e){return{type:"DoStatement",body:e}},repeatStatement:function(e,n){return{type:"RepeatStatement",condition:e,body:n}},localStatement:function(e,n){return{type:"LocalStatement",variables:e,init:n}},assignmentStatement:function(e,n){return{type:"AssignmentStatement",variables:e,init:n}},callStatement:function(e){return{type:"CallStatement",expression:e}},functionStatement:function(e,n,t,r){return{type:"FunctionDeclaration",identifier:e,isLocal:t,parameters:n,body:r}},forNumericStatement:function(e,n,t,r,a){return{type:"ForNumericStatement",variable:e,start:n,end:t,step:r,body:a}},forGenericStatement:function(e,n,t){return{type:"ForGenericStatement",variables:e,iterators:n,body:t}},chunk:function(e){return{type:"Chunk",body:e}},identifier:function(e){return{type:"Identifier",name:e}},literal:function(e,n,t){return e=e===we?"StringLiteral":e===Ie?"NumericLiteral":e===Ne?"BooleanLiteral":e===Be?"NilLiteral":"VarargLiteral",{type:e,value:n,raw:t}},tableKey:function(e,n){return{type:"TableKey",key:e,value:n}},tableKeyString:function(e,n){return{type:"TableKeyString",key:e,value:n}},tableValue:function(e){return{type:"TableValue",value:e}},tableConstructorExpression:function(e){return{type:"TableConstructorExpression",fields:e}},binaryExpression:function(e,n,t){var r="and"===e||"or"===e?"LogicalExpression":"BinaryExpression";return{type:r,operator:e,left:n,right:t}},unaryExpression:function(e,n){return{type:"UnaryExpression",operator:e,argument:n}},memberExpression:function(e,n,t){return{type:"MemberExpression",indexer:n,identifier:t,base:e}},indexExpression:function(e,n){return{type:"IndexExpression",base:e,index:n}},callExpression:function(e,n){return{type:"CallExpression",base:e,arguments:n}},tableCallExpression:function(e,n){return{type:"TableCallExpression",base:e,arguments:n}},stringCallExpression:function(e,n){return{type:"StringCallExpression",base:e,argument:n}},comment:function(e,n){return{type:"Comment",value:e,raw:n}}},_e=Array.prototype.slice,qe=(Object.prototype.toString,function(e,n){for(var t=0,r=e.length;r>t;t++)if(e[t]===n)return t;return-1});e.lex=c;var ze,We,Ze,Xe,He=[];M.prototype.complete=function(){Se.locations&&(this.loc.end.line=je.line,this.loc.end.column=je.range[1]-je.lineStart),Se.ranges&&(this.range[1]=je.range[1])},e.parse=ve,e.write=ge,e.end=be}),function(e){function n(e){switch(e.length){case 2:return"do"==e||"if"==e||"in"==e||"or"==e;case 3:return"and"==e||"end"==e||"for"==e||"nil"==e||"not"==e;case 4:return"else"==e||"goto"==e||"then"==e||"true"==e;case 5:return"break"==e||"false"==e||"local"==e||"until"==e||"while"==e;case 6:return"elseif"==e||"repeat"==e||"return"==e;case 8:return"function"==e}return!1}var t="object"==typeof exports&&exports,r="object"==typeof module&&module&&module.exports==t&&module,a="object"==typeof global&&global;a.global!==a&&a.window!==a||(e=a);var i=e.luaparse||require("luaparse");i.defaultOptions.comments=!1,i.defaultOptions.scope=!0;var o,u,c,s=i.parse,l=/[a-zA-Z_]/,f=/[a-zA-Z0-9_]/,p=/[0-9]/,d={or:1,and:2,"<":3,">":3,"<=":3,">=":3,"~=":3,"==":3,"..":5,"+":6,"-":6,"*":7,"/":7,"%":7,unarynot:8,"unary#":8,"unary-":8,"^":10},m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_"],h=m.length-1,y=function(e,n){for(var t=-1,r=e.length,a=r-1;++t<r;)n(e[t],a>t)},v=function(e,n){for(var t=-1,r=e.length;++t<r;)if(e[t]==n)return t},g={}.hasOwnProperty,b=function(e,n){var t;if(n)for(t in n)g.call(n,t)&&(e[t]=n[t]);return e},x=function(e){var n="0",t="";if(1>e)return t;if(1==e)return n;for(;e;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t},S=function(e){if("self"==e)return e;if(g.call(u,e))return u[e];for(var t,r,a=o.length,i=a-1;i>=0;){if(t=o.charAt(i),r=v(m,t),r!=h)return o=o.substring(0,i)+m[r+1]+x(a-(i+1)),n(o)||v(c,o)>-1?S(e):(u[e]=o,o);--i}return o="a"+x(a),v(c,o)>-1?S(e):(u[e]=o,o)},C=function(e,n,t){t||(t=" ");var r=e.slice(-1),a=n.charAt(0);return""==r||""==a?e+n:l.test(r)?f.test(a)?e+t+n:e+n:p.test(r)?"("==a||"."!=a&&!l.test(a)?e+n:e+t+n:r==a&&"-"==r?e+t+n:e+n},E=function(e){var n="",t=e.type,r=e.inParens&&("BinaryExpression"==t||"FunctionDeclaration"==t||"TableConstructorExpression"==t);return r&&(n+="("),n+=A(e),r&&(n+=")"),n},A=function(e,n){n=b({precedence:0,preserveIdentifiers:!1},n);var t,r,a,i="",o=e.type;if("Identifier"==o)i=e.isLocal&&!n.preserveIdentifiers?S(e.name):e.name;else if("StringLiteral"==o||"NumericLiteral"==o||"BooleanLiteral"==o||"NilLiteral"==o||"VarargLiteral"==o)i=e.raw;else if("LogicalExpression"==o||"BinaryExpression"==o)a=e.operator,t=d[a],r="left",i=A(e.left,{precedence:t,direction:"left",parent:a}),i=C(i,a),i=C(i,A(e.right,{precedence:t,direction:"right",parent:a})),"^"!=a&&".."!=a||(r="right"),(t<n.precedence||t==n.precedence&&r!=n.direction&&"+"!=n.parent&&("*"!=n.parent||"/"!=a&&"*"!=a))&&(i="("+i+")");else if("UnaryExpression"==o)a=e.operator,t=d["unary"+a],i=C(a,A(e.argument,{precedence:t})),t<n.precedence&&("^"!=n.parent||"right"!=n.direction)&&(i="("+i+")");else if("CallExpression"==o)i=E(e.base)+"(",y(e.arguments,function(e,n){i+=A(e),n&&(i+=",")}),i+=")";else if("TableCallExpression"==o)i=A(e.base)+A(e.arguments);else if("StringCallExpression"==o)i=A(e.base)+A(e.argument);else if("IndexExpression"==o)i=E(e.base)+"["+A(e.index)+"]";else if("MemberExpression"==o)i=E(e.base)+e.indexer+A(e.identifier,{preserveIdentifiers:!0});else if("FunctionDeclaration"==o)i="function(",e.parameters.length&&y(e.parameters,function(e,n){i+=e.name?S(e.name):e.value,n&&(i+=",")}),i+=")",i=C(i,w(e.body)),i=C(i,"end");else{if("TableConstructorExpression"!=o)throw TypeError("Unknown expression type: `"+o+"`");i="{",y(e.fields,function(e,n){i+="TableKey"==e.type?"["+A(e.key)+"]="+A(e.value):"TableValue"==e.type?A(e.value):A(e.key,{preserveIdentifiers:!0})+"="+A(e.value),n&&(i+=",")}),i+="}"}return i},w=function(e){var n="";return y(e,function(e){n=C(n,k(e),";")}),n},k=function(e){var n="",t=e.type;if("AssignmentStatement"==t)y(e.variables,function(e,t){n+=A(e),t&&(n+=",")}),n+="=",y(e.init,function(e,t){n+=A(e),t&&(n+=",")});else if("LocalStatement"==t)n="local ",y(e.variables,function(e,t){n+=S(e.name),t&&(n+=",")}),e.init.length&&(n+="=",y(e.init,function(e,t){n+=A(e),t&&(n+=",")}));else if("CallStatement"==t)n=A(e.expression);else if("IfStatement"==t)n=C("if",A(e.clauses[0].condition)),n=C(n,"then"),n=C(n,w(e.clauses[0].body)),y(e.clauses.slice(1),function(e){e.condition?(n=C(n,"elseif"),n=C(n,A(e.condition)),n=C(n,"then")):n=C(n,"else"),n=C(n,w(e.body))}),n=C(n,"end");else if("WhileStatement"==t)n=C("while",A(e.condition)),n=C(n,"do"),n=C(n,w(e.body)),n=C(n,"end");else if("DoStatement"==t)n=C("do",w(e.body)),n=C(n,"end");else if("ReturnStatement"==t)n="return",y(e.arguments,function(e,t){n=C(n,A(e)),t&&(n+=",")});else if("BreakStatement"==t)n="break";else if("RepeatStatement"==t)n=C("repeat",w(e.body)),n=C(n,"until"),n=C(n,A(e.condition));else if("FunctionDeclaration"==t)n=(e.isLocal?"local ":"")+"function ",n+=A(e.identifier),n+="(",e.parameters.length&&y(e.parameters,function(e,t){n+=e.name?S(e.name):e.value,t&&(n+=",")}),n+=")",n=C(n,w(e.body)),n=C(n,"end");else if("ForGenericStatement"==t)n="for ",y(e.variables,function(e,t){n+=S(e.name),t&&(n+=",")}),n+=" in",y(e.iterators,function(e,t){n=C(n,A(e)),t&&(n+=",")}),n=C(n,"do"),n=C(n,w(e.body)),n=C(n,"end");else if("ForNumericStatement"==t)n="for "+S(e.variable.name)+"=",n+=A(e.start)+","+A(e.end),e.step&&(n+=","+A(e.step)),n=C(n,"do"),n=C(n,w(e.body)),n=C(n,"end");else if("LabelStatement"==t)n="::"+S(e.label.name)+"::";else{if("GotoStatement"!=t)throw TypeError("Unknown statement type: `"+t+"`");n="goto "+S(e.label.name)}return n},T=function(e){var n="string"==typeof e?s(e):e;if(u={},c=[],o="9",!n.globals)throw Error("Missing required AST property: `globals`");return y(n.globals,function(e){var n=e.name;u[n]=n,c.push(n)}),w(n.body)},I={version:"1.0.2",minify:T};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return I}):t&&!t.nodeType?r?r.exports=I:b(t,I):e.luamin=I}(this),function(e,n){function t(e){for(var n,t,r=[],a=0,i=e.length;i>a;){if(n=e.charCodeAt(a++),55296==(63488&n)){if(t=e.charCodeAt(a++),55296!=(64512&n)||56320!=(64512&t))throw Error("Illegal UCS-2 sequence");n=((1023&n)<<10)+(1023&t)+65536}r.push(n)}return r}function r(e){return encodeURIComponent(e).replace(/['()_*]/g,function(e){return"%"+e.charCodeAt().toString(16)})}function a(e,n){return null==n?e.innerText||e.textContent:(null!=e.innerText&&(e.innerText=n),void(null!=e.textContent&&(e.textContent=n)))}function i(e,n){return(0==e?"0":String(e).replace(v,","))+" "+n+(1==e?"":"s")}function o(e){return t(e).length}function u(e){return~-encodeURI(e).split(/%..|./).length}function c(){try{var e=s.value,n=luamin.minify(e),t=o(e),c=u(e),d=o(n),v=u(n);a(f,n||"[no output]"),l.className=v?"":"fail",a(m,i(c,"byte")+(t==c?"":" (assuming UTF-8); "+i(t,"character"))),a(h,i(v,"byte")+(d==v?"":" (assuming UTF-8); "+i(d,"character"))),a(y,(c?(c-v)/c*100:0).toFixed(2)+"%"),g&&(g.lua=e)}catch(b){l.className="fail",a(f,b)}p.hash=r(e)}var s=n.getElementsByTagName("textarea")[0],l=(n.getElementById("characters"),n.getElementsByTagName("pre")[0]),f=n.getElementById("output"),p=n.getElementById("permalink"),d=n.getElementsByTagName("dd"),m=d[0],h=d[1],y=d[2],v=/(?=(?:\d{3})+$)(?!\b)/g,g=function(){var n,t,r=new Date;try{return(n=e.localStorage).setItem(r,r),t=n.getItem(r)==r,n.removeItem(r),t&&n}catch(a){}}();s.onkeyup=c,s.oninput=function(){s.onkeyup=null,c()},g&&(g.lua&&(s.value=g.lua),c()),e.onhashchange=function(){s.value=decodeURIComponent(location.hash.slice(1)),c()},location.hash&&e.onhashchange()}(this,document),window._gaq=[["_setAccount","UA-6065217-60"],["_trackPageview"]],function(e,n){var t=e.createElement(n),r=e.getElementsByTagName(n)[0];t.src="https://www.google-analytics.com/ga.js",r.parentNode.insertBefore(t,r)}(document,"script")</script>
